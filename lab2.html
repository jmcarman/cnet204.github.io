<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="author" content="Jason Carman">
	<meta name="description" content="CNET204 Lab 2">
	<meta name="keywords" content="cnet204,centennial college,HTML5,CSS3">
	<meta charset="utf-8">
    <title>Lab 2</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
	<nav>
		<ul>
			<li><a href="index.html">Lab 1</a></li>
            <li><a class="active" href="#">Lab 2</a></li>
			<li><a href="lab3.html">Lab 3</a></li>
			<li><a href="lab4.html">Lab 4</a></li>
			<li><a href="lab5.html">Lab 5</a></li>
			<li><a href="lab6.html">Lab 6</a></li>
			<li><a href="lab7.html">Lab 7</a></li>
			<li><a href="lab8.html">Lab 8</a></li>
			<li><a href="assignment1.html">Assignment 1</a></li>
            <li><a href="lab9.html">Lab 9</a></li>
			<li><a href="lab10.html">Lab 10</a></li>
			<li><a href="assignment2.html">Assignment 2</a></li>
			<li><a href="good.html">Good Formatting</a></li>
			<li><a href="bad.html">Bad Formatting</a></li>
		</ul>
	</nav>
<main>
    <h1>Lab 2 - Introduction to Linux</h1>
    <h2>Overview</h2>
	<p>This week's lab will cover the following:</p>
	<ul>
		<li>Using the Linux Shell.</li>
		<li>Accessing help from the Linux command line.</li>
		<li>Editing the command line.</li>
		<li>Accessing command history.</li>
        <li>Navigating the Linux filesystem.</li>
		<li>Creating and managing directories.</li>
		<li>Using command line text editors.</li>
	</ul>

	<h2>Lecture Slides</h2>
	<div class="container">
		<iframe src="https://docs.google.com/presentation/d/e/2PACX-1vS1CM_tjSrFhvWIWuEsZskovBWYPLDm8YIAzEZEjKe6bW-qKTMSmzylL43M2dFo0Lpj56TcIUJivALt/embed?start=false&loop=false&delayms=5000" class="responsive-iframe"></iframe>
	</div>
	
	<h2>Using the Linux Shell</h2>
	<p>Servers are commonly configured to provide access to a command line interface (CLI) only.  Knowing how to use Linux from the commmand line is an important skill as a system administrator.  In this lab you will be learning how to use Linux using Ubuntu Server.  In Lab 3 you will learn how to install and configure Apache, which is an open source web server.</p>

	<h3>General Linux Command Structure is as follows:</h3>
	<strong>command argument1 argument2 ...</strong>

	<p>Some Linux commands can be issued by entering the Linux command line without arguments (e.g. pwd, date, ls, cal), but many Linux commands can be issued with arguments (e.g. cal 2002, cd /bin, ls -l -a /bin ).</p>

	<h3>What Does an Argument Represent?</h3>
	<p>An argument can respresent:</p>

	<ul>
		<li>a file pathname</li>
		<li>a command option</li>
		<li>a series of characters (i.e. text) that the command can use</li>
	</ul>

	<p>An argument is separated from a command (or from other arguments) by a SPACE, MULTIPLE SPACES or a TAB.</p>

	<h3>Perform the following steps:</h3>
	
	<ul>
		<li>Start the AWS learner lab.</li>
		<li>Login to the Ubuntu Server instance (named first) using SSH.  You created this in Lab 1.</li>
	</ul>

	<p>Issue the following command and observe the output:</p>
	<pre>pwd</pre>
	<p>The <strong>pwd</strong> command displays your current working directory.  In fact, pwd stands for print working directory.  Linux commands are commonly a short form describing the purpose they fulfill.  Knowing what the command means will help you remember the syntax.</p>

	<p>Issue the following command and observe the output:</p>
	<pre>ls</pre>
	<p>The <strong>ls</strong> command is used to list files.  Remember what you learned above about commands describing the purpose they fulfill.  You will find it useful time and again.</p>

	<p>Now lets try something a little more challenging.  Issue the following commands:</p>
	<pre>cd /bin</pre>
	<pre>pwd</pre>
	<p>Based on the output of the pwd command, what do you think <strong>cd /bin</strong> did?</p>

	<p>Issue the following commands and note the differences between them.</p>
	<pre>ls</pre>
	<pre>ls -l</pre>
	<p>You just used an option.  Options modify the output of the command.  Commands have many options.  You will get to know some through common usage.  Try each of the following:</p>
	<ul>
		<li>Try issuing the cd command again, but without any option.</li>
		<li>Now issue the pwd command again.  Notice what happened.</li>
		<li>Lets try adding a different option to the ls command.  Issue the following:</li>
	</ul>
	<pre>ls /bin</pre>

	<p>Note, you can provide the directory you wish a file listing of without having to change to that directory first. Try combining options by issuing the following:</p>
	<pre>ls -l /bin</pre>

	<p>Our screen has gotten a bit cluttered.  Why don't we clear it?</p>
	<pre>clear</pre>

	<h2>Accessing help in Linux</h2>
	<p>There are many different commands in Linux.  In fact, there are over <strong>2500</strong> different commands and utilities.  It is important to be able to know where to look for help, so you can learn as you go.  You will always be discovering new things in Linux, no matter how long you have used it.  Fortunately, the man command (short for manual) provides useful information such as:</p>
	<ul>
		<li>command usage</li>
		<li>acceptable command arguments</li>
		<li>command options</li>
		<li>examples</li>
	</ul>

	<p>There is even a man page for the man command!  Issue the following command to view it's contents.</p>
	<pre>man man</pre>

	<p>Once you are in the man page you can navigate through them using the following methods:</p>
	<dl>
		<dt>ENTER</dt>
			<dd>Moves down one line.</dd>
		<dt>SPACEBAR</dt>
			<dd>Moves down one screen.</dd>
		<dt>ctrl + b</dt>
			<dd>Moves up one screen.</dd>
		<dt>/pattern/</dt>
			<dd>Searches for the word pattern within the man page.  You can use this to search for words within a man page.</dd>
		<dt>q</dt>
			<dd>Quit the man page.</dd>
	</dl>
	<p>Feel free to browse through the man page for the man command if you wish.  Press <strong>q</strong> to quit when you are ready.</p>

	<h3>To do:</h3>
	<p>Using what you have learned, access the man page for the <strong>ls</strong> command.  Browse through and make note of the following options:</p>
	<ul>
		<li>Use a long listing format</li>
		<li>Do not ignore entries starting with . (which are hidden files)</li>
	</ul>

	<p>Return to your home directory and issue the <strong>ls</strong> command for each of the options you just learned.  Note the differences in output.</p>

	<h2>Editing the command line</h2>
	<p>Shortcut keys allow you to increase your productivity by doing things more efficiently (with less key strokes).  In this section you will learn a few common Bash shortcuts.</p>
	<p>Type the following command but do not press the ENTER key:</p>
	<pre>cd /bin</pre>
	<ul>
		<li>Press <strong>ctrl + a</strong> at the same time and observe what happens.</li>
		<li>Now try <strong>alt + f</strong> at the same time.  Repeat this a second time.</li>
		<li>Press <strong>alt +b</strong> at the same time.  What happened?</li>
		<li>Press <strong>ctrl + w</strong>.  What did this do?</li>
		<li>Type <strong>ls</strong> followed by <strong>ctrl + e</strong>, and hit enter to execute the modified command.</li>
		<li>Press <strong>ctrl + u</strong> to clear your command line.</li>
	</ul>
	
	<p>Once again, our screen has gotten a little cluttered.  You could clear it with a command you have already used, or you could learn a new useful shortcut.  Try pressing <strong>ctrl + l</strong> at the same time.</p>

	<p>Here is a reference some useful shortcut keys and their purpose:</p>

	<dl>
		<dt>ctrl + l</dt>
			<dd>Clear the screen.</dd>
		<dt>ctrl + u</dt>
			<dd>Clear the command line.</dd>
		<dt>up arrow / down arrow</dt>
			<dd>Scroll up / down through your command history.</dd>
		<dt>backspace, ctrl + backspace, ctrl + h</dt>
			<dd>Delete the character before the cursor.</dd>
		<dt>ctrl + w</dt>
			<dd>Delete the word before the cursor.</dd>
		<dt>ctrl + a</dt>
			<dd>Move the cursor to the beginning of the command line.</dd>
		<dt>ctrl + e</dt>
			<dd>Move the cursor to the endof the command line.</dd>
		<dt>alt + f / alt + b (on Mac: OPTION + right/left arrow)</dt>
			<dd>Move forward/backward one word.</dd>		
	</dl>

	<h3>Accessing command history</h3>
	<p>Recalling commands from your history is another very useful, time saving task in Linux.  There are a couple of ways you can access this.</p>
	<ul>
		<li>You can use the up arrow on your keyboard to bring up (but not execute) the last command you issued.  This is particularly useful if you are reissuing the command same with slight changes.  Use the up arrow to continue browsing backwards one command at a time.  If you go to far, you can reverse direction with the down arrow.</li>
		<li>Sometimes the command you want to re-issue is far enough back in your history that scrolling through one item at a time is tedious.  Fortunately, the <strong>history</strong> command provides additional functionality to speed things up a bit.  It gives you a listing of all the commands stored in your command history.  You can re-execute any of them by issuing a ! followed by the number in front of it.  Alternatively, issuing ! with a partially completed command will re-execute the last command that began the same way.  Both are extremly useful.</li>
	</ul>
	
	<h3>To do:</h3>
	<ul>
		<li>Scroll through your command history using the up arrow until you find the <strong>ls</strong> command.  Don't forget you can scroll back if you have gone too far.  Once you have the command on your terminal, hit the <strong>enter</strong> key to execute it.</li>
		<li>Issue the command <strong>!cd</strong> and hit enter.  What happened?  Use <strong>pwd</strong> to confirm you have changed directories.</li>
	</ul>

	<h2>Navigating the Linux filesystem</h2>
	<p>The Linux file system is hierarchical, like other operating systems (such as Windows).  However, there are no drive letters in Linux.  Everything descends from the <strong>root directory</strong>, which is represented by a <strong>/</strong>.  Other directories found under root are referred to as child directories, grandchild directories, etc.  This hierarchical structure resembles an "upside-down tree". There is actually a <strong>tree</strong> command that displays a "directory tree diagram"!</p>
	
	<h3>Directory Pathnames</h3>
	<p>A pathname is used to specify a route to a file within the file system.</p>

	<p>A pathname points to a file system location by following the directory tree hierarchy expressed in a string of characters in which path components, separated by a delimiting character, represent each directory. The delimiting character is most commonly the slash ("/"). <a href="https://en.wikipedia.org/wiki/Path_(computing)">Reference</a>.  The following displays and defines <strong>commonly used directories</strong> for all Linux filesystems.</p>

	<dl>
		<dt>/</dt>
			<dd>Root directory (ancestor to all directories).</dd>
		<dt>/home</dt>
			<dd>Used to store users' home directories.</dd>
		<dt>/home/username</dt>
			<dd>A specific User's Home Director.</dd>
		<dt>/bin</dt>
			<dd>Common system binaries (commands).</dd>
		<dt>/usr/bin</dt>
			<dd>Common utilities (commands) for users.</dd>
		<dt>/usr/sbin</dt>
			<dd>Common utilities for system administration.</dd>
		<dt>/etc</dt>
			<dd>System administration files (eg. passwd).</dd>
		<dt>/var</dt>
			<dd>Dynamic files (log and mail files).</dd>
		<dt>/tmp, /var/tmp</dt>
			<dd>Temporary files for programs.</dd>
		<dt>/dev</dt>
			<dd>Device driver files (terminals, printers, etc.)</dd>
	</dl>

	<h2>Creating & managing directories</h2>
	<h3>Directory & File naming rules</h3>
	<p>Before you learn how to create directories, it is important to understand what represents an appropriate directory filename.  Here are some common file-naming rules:</p>
	<ul>
		<li>Linux characters are case sensitive. It is recommended to be consistent (e.g. use all lowercase letters)</li>
		<li>Adopt a consistent directory naming scheme (this will help you to navigate within your directory structure)</li>
		<li>Make your directory names meaningful</li>
		<li>Avoid non-alphanumeric characters, as they may have a special meaning to the system that will make your work more difficult when changing to directories, etc.</li>
		<li>Avoid using spaces for directory names (consider periods, hyphens, and underscores instead)</li>
	</ul>

	<h3>Creating Directories</h3>
	<p>Login to your instance in AWS if you haven't already.  Issue a command to confirm you are in your home directory (you have learned this one already in the lab).</p>
	
	<p>Before we begin, you are going to create a directory called bin in your home directory.</p>
	<pre>mkdir ~/bin</pre>

	<p>Now, use git clone to download check scripts for this lab.  You will run these scripts at different points in the lab (included in the instructions) to check your work.  When you recieve a message indicating everything was successful, take a screenshot.  You will need to upload all three screenshots (from the three lab check scripts) as part of your submission.</p>
	<pre>git clone https://github.com/CNET204/lab-check ~/bin/ </pre>

	<p>Install the <strong>tree</strong> command so we can use it later.</p>
	<pre>sudo apt install tree</pre>

	<p>You are going to issue a series of commands to create the following directory structure.</p>
	<img src="images/directory-structure.png" alt="Sample directory structure" class="sample">

	<p>Issue the following command to create the cnet204 directory.</p>
	<pre>mkdir /home/ubuntu/cnet204</pre>

	<p>Confirm the directory was created by issuing the ls command with your newly created directory as an argument.</p>
	<pre>ls /home/ubuntu/cnet204</pre>

	<p>Try reissuing ls with the <strong>-d</strong> option.  This can be useful to confirm the directory has been created, instead of just listing the contents of the directory.</p>
	<pre>ls -d /home/ubuntu/cnet204</pre>

	<p>Note, you can include the -l option to obtain a long listing.  You can combine these options in any order and achieve the same effect.  Now, lets create the <strong>cnet104</strong> and <strong>cnet124</strong> directories.</p>
	<pre>mkdir /home/ubuntu/cnet104 /home/ubuntu/cnet124</pre>

	<p>Next, confirm the directories were created.</p>
	<pre>ls -ld /home/ubuntu/cnet104 /home/ubuntu/cnet124</pre>

	<p>Issue a command to change to the cnet204 directory.  Then confirm you are in the cnet204 directory.  Now, we are going to create the notes, tutorials and samples directories.</p>
	<pre>mkdir notes labs samples</pre>

	<p>Note the difference in the paths you have used.  For the inital directories you used what is known as an absolute path (which describes the absolute location of the file or directory from root (/)).  For notes, labs and samples you used a relative path.  Relative paths are relative to where you are in the file system.</p>

	<p>Issue a command to change to your home directory.</p>
	<pre>cd</pre>

	<p>There is a more efficient (yet slightly more complicated) way to create the above directory structure.  Lets remove it, then recreate it in a single command to demonstrate this.  First, remove your directories:</p>
	<pre>rm -r cnet204 cnet104 cnet124</pre>

	<p>Issue a command to confirm the directories have been removed.</p>
	<p>Now, we're going to issue a single command to recreate the directories and sub-directories.  The -p option allows the creation of parent directories and their decendents in a single command.</p>
	<pre>mkdir -p cnet204/notes cnet204/labs cnet204/samples cnet104 cnet124</pre>

	<!-- check script (week2-check-1) goes here -->
	<p>Run the following script to check your work.  If it indicates everything is correct, take a screenshot to include in your submission.</p>
	<pre>bash ~/bin/lab2-check-1</pre>

	<h3>Viewing Directory Contents / Copying & Moving Directories</h3>
	<p>Issue the <strong>tree</strong> command to confirm the directory structure matches the above sample before you proceed.  Then, issue the following command to move the cnet204 directory (and it's contents) into cnet104.</p>
	<pre>cp -R cnet204 cnet124</pre>

	<p>Issue the <strong>tree</strong> command again to confirm the directories have been moved.  Next, move cnet124 into the labs directory.</p>
	<pre>mv cnet104 cnet124/cnet204/labs</pre>

	<p>Issue the <strong>tree</strong> command again to confirm the directories have been moved.</p>

	<!-- check script (week2-check-2) goes here -->
	<p>Run the following script to check your work.  If it indicates everything is correct, take a screenshot to include in your submission.</p>
	<pre>bash ~/bin/lab2-check-2</pre>

	<h3>Removing Directories</h3>
	<p>When it comes to removing directories there are a couple different options:</p>
	<dl>
		<dt>rmdir</dt>
			<dd>Can be used to remove <strong>empty</strong> directories.</dd>
		<dt>rm -r</dt>
			<dd>Can be used to remove a directory and it's contents recursively.</dd>
	</dl>
	
	<p>Use the <strong>rmdir</strong> command to remove the cnet104 and cnet124 directories.</p>
	<pre>rmdir cnet104 cnet124</pre>
	
	<p>Now issue a command to confirm they have been deleted.</p>

	<p>Use the <strong>rm -ri</strong> command to remove cnet204 and it's contents.  The -i option is not necessary, however it is sometimes useful when removing a large number of files in a safe manner.  It will cause the rm command to prompt you before it removes a file or directory, or even descends into a directory.</p>
	<pre>rm -ri cnet204</pre>
	<!-- check script (week2-check-3) goes here -->
	<p>Run the following script to check your work.  If it indicates everything is correct, take a screenshot to include in your submission.</p>
	<pre>bash ~/bin/lab2-check-3</pre>

	<h2>Using command line text editors</h2>
	<p>In the Linux file system, everything is a file.  This makes command line text editors extremely powerful tools.  You will need to know how to use them to perform regular system administration tasks like configure services and write scripts (which we will not be learning in this course).  There are two commonly used text editors that we will look at: vi (vim) and nano.</p>

	<h3>Nano</h3>
	<p>We'll look at Nano first, because it is often considered to be the more user-friendly of the two.  You can launch nano by issuing the <strong>nano</strong> command from your terminal.  It immediately puts you in input mode (this is an important concept when it comes to looking at Vi), so you can begin entering text.  It does not however, provide features such as syntax highlighting (which makes vim a superior choice).  You can launch nano in one of two ways:</p>
	<dl>
		<dt>Without arguments</dt>
			<dd>Nano will open.  When you save, you will be prompted to enter a file name.</dd>
		<dt>With arguments</dt>
			<dd>If the file exists, nano will open it for editing.  If the file doesn't exist, nano will create the file and open it for editing.</dd>
	</dl>

	<p>Create file mytext.txt in your home directory using nano.</p>
	<pre>nano mytext.txt</pre>
	
	<p>Now enter the following text:</p>
	<img src="images/nano-text-editor-2.png" alt="nano text">

	<p>You will notice within the editor there is a list at the bottom of commonly used commands.  Note the control key is represented by a ^ symbol.  Here is a handy reference:</p>
	<dl>
		<dt>&lt;ctrl&gt;&lt;spacebar&gt;, &lt;esc&gt;&lt;6&gt;</dt>
			<dd>Move forward/backward one word.</dd>
		<dt>&lt;ctrl&gt;&lt;a&gt;, &lt;ctrl&gt;&lt;e&gt;</dt>
			<dd>Move to beginning/end of line.</dd>
		<dt>&lt;ctrl&gt;&lt;k&gt;</dt>
			<dd>Cut the line.</dd>
		<dt>&lt;esc&gt;&lt;6&gt;</dt>
			<dd>Copy the Line.</dd>
		<dt>&lt;ctrl&gt;&lt;u&gt;</dt>
			<dd>Paste Cut/Copied Text.</dd>
		<dt>&lt;ctrl&gt;&lt;g&gt;</dt>
			<dd>Display help screen (ctrl + x to exit).</dd>
		<dt>&lt;ctrl&gt;&lt;x&gt;</dt>
			<dd>Save and exit.</dd>
	</dl>
	
	<p>Refer to the above reference, and press the key combination to save your session.  You will be prompted to modify your file, type the letter <strong>y</strong> for yes.  The name of the file will then display, press the <strong>enter</strong> key to save your changes.</p>
	<span class="tip">The prompt for the file name allows you to change the name of the file if you wish.  By pressing <strong>enter</strong>, it accepts the default filename.</span>

	<p>Practice some editing options until you feel comfortable.  The <strong>save</strong> and <strong>exit</strong> nano.</p>

	<h3>Vi (vim)</h3>
	<p>The vi (vim) text editor (although taking longer to learn) has outstanding features to increase coding productivity. The major different between nano and vi is that vi starts in COMMAND LINE mode. You need to issue letter commands to enter text. Also you can press colon “: ” in COMMAND mode to enter more complex commands.  Just like with nano, you can launch vi in the same two ways (with an argument to both open an existing file/or create a file, or without an argument).</p>
	<p>Issue the following command to create the file called <strong>othertext.txt</strong> (in your home directory) and open it for editing.</p>
	<pre>vi othertext.txt</pre>

	<p>Vi places you in <strong>command</strong> mode first.  You will need to issue a command to switch to input mode.  To enter input mode, press the letter <strong>i</strong> on your keyboard.  Now enter the following text:</p>
	<img src="images/vi-text-editor.png" alt="vi text">

	<p>Now that you have entered some text you are ready to save and exit.  First, you have to exit input mode and return to command mode.  To do that, hit the <strong>ESC</strong> key.  Now you can save and exit by issuing either the following commands (note the colon is part of the command):</p>
	<pre>:wq</pre>

	<p>or</p>

	<pre>:x</pre>

	<p>Here is a useful table of common vi (vim) commands:</p>
	<dl>
		<dt>i</dt>
			<dd>Enter <strong>INPUT</strong> mode.</dd>
		<dt>&lt;esc&gt;</dt>
			<dd>Enter <strong>COMMAND</strong> mode.</dd>
		<dt>x</dt>
			<dd>Delete text to the right in COMMAND mode.</dd>
		<dt>W</dt>
			<dd>Move forward one word in COMMAND mode.</dd>
		<dt>B</dt>
			<dd>Move back one word in COMMAND mode.</dd>
		<dt>dd</dt>
			<dd>Cut line in COMMAND mode.</dd>
		<dt>yy</dt>
			<dd>Copy Line in COMMAND mode.</dd>
		<dt>p / P</dt>
			<dd>Paste Cut/Copied Text below/above line in COMMAND mode.</dd>
		<dt>u</dt>
			<dd>Undo previous editing command.</dd>
		<dt>:help</dt>
			<dd>Display help screen in COMMAND mode.</dd>
		<dt>:x</dt>
			<dd>Save editing changes and exit (in COMMAND mode).</dd>
		<dt>:w name</dt>
			<dd>Save editing changes to "name" in COMMAND mode.  Without a name provided, it will save the current file (assuming you have opened an existing file for editing).</dd>
		<dt>:q!</dt>
			<dd>Abort editing session and exit (in COMMAND mode).</dd>
	</dl>

	<h2>Completing the Lab</h2>
	<p>Take a screenshot of your successful connection and submit that to the dropbox on eCentennial for proof of completion.  The following Exploration Questions are for furthering your knowledge only, and may appear on quizzes or tests at any time later in this course.</p>

	<h2>Exploration Questions</h2>
	<ol>
		<li>What is the difference between a Linux command and an argument?</li>
		<li>What is the purpose of a Linux command option?</li>
		<li>What character(s) are used to separate commands and arguments?</li>
		<li>How can you access help from the command line?</li>
		<li>How can you access your command history?</li>
		<li>What are two ways to re-execute a command found in your history?</li>
		<li>What ancestor directory do all directories descend from in Linux?</li>
		<li>Where are user's home directories stored in Linux?</li>
		<li>Where are Dynamic log files stored in Linux?</li>
		<li>How do you create a directory?</li>
		<li>How do you remove an empty directory?</li>
		<li>How do you remove an non-empty directory and it's contents?</li>
		<li>How do you copy a file or directory?</li>
		<li>How do you move/rename a file or directory?</li>
		<li>What are the two command line text editors commonly used in Linux?</li>
	</ol>
</main>
</body>
</html>